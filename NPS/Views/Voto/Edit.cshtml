@*Author: Larson Kremer Vicente*@

@model NPS.Models.Voto

@{
    ViewBag.Title = "Edit";
}
<br />
<br />
<h2>Editar Voto</h2>


@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()

    <div class="form-horizontal">
        <hr />
        @Html.ValidationSummary(true, "", new { @class = "text-danger" })
        @Html.HiddenFor(model => model.VotoId)

        <div onmouseout="CRateSelected()" class="col-lg-10 form-group">
            <p>Em uma escala de 1 a 10, o quanto você indicaria o serviço a um amigo ou colega?</p>

            <span id="span1" onmouseout="CRateOut(1)" onmouseover="CRateOver(1)" onclick="CRateClick(1)" class="fa fa-star-o fa-2x"></span>
            <span id="span2" onmouseout="CRateOut(2)" onmouseover="CRateOver(2)" onclick="CRateClick(2)" class="fa fa-star-o  fa-2x"></span>
            <span id="span3" onmouseout="CRateOut(3)" onmouseover="CRateOver(3)" onclick="CRateClick(3)" class="fa fa-star-o  fa-2x"></span>
            <span id="span4" onmouseout="CRateOut(4)" onmouseover="CRateOver(4)" onclick="CRateClick(4)" class="fa fa-star-o  fa-2x"></span>
            <span id="span5" onmouseout="CRateOut(5)" onmouseover="CRateOver(5)" onclick="CRateClick(5)" class="fa fa-star-o  fa-2x"></span>
            <span id="span6" onmouseout="CRateOut(6)" onmouseover="CRateOver(6)" onclick="CRateClick(6)" class="fa fa-star-o  fa-2x"></span>
            <span id="span7" onmouseout="CRateOut(7)" onmouseover="CRateOver(7)" onclick="CRateClick(7)" class="fa fa-star-o  fa-2x"></span>
            <span id="span8" onmouseout="CRateOut(8)" onmouseover="CRateOver(8)" onclick="CRateClick(8)" class="fa fa-star-o  fa-2x"></span>
            <span id="span9" onmouseout="CRateOut(9)" onmouseover="CRateOver(9)" onclick="CRateClick(9)" class="fa fa-star-o  fa-2x"></span>
            <span id="span10" onmouseout="CRateOut(10)" onmouseover="CRateOver(10)" onclick="CRateClick(10)" class="fa fa-star-o  fa-2x"></span>
            @Html.ValidationMessageFor(model => model.Vl_voto, "", new { @class = "text-danger" })
        </div>
        <div>
            <input type="hidden" name="Vl_Voto" id="lblRating" value="@Model.Vl_voto">
        </div>

        <div class="form-group">
            <div class="col-md-10">
                <p>Telefone</p>
                @Html.EditorFor(model => model.Nr_telefone, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.Nr_telefone, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            <div class="col-md-10">
                <p>Justificativa</p>
                @Html.EditorFor(model => model.Justificativa_voto, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.Justificativa_voto, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            <div class="col-md-10">
                <p>Setor</p>
                @Html.DropDownList("SetorId", null, htmlAttributes: new { @class = "form-control" })
                @Html.ValidationMessageFor(model => model.SetorId, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            <div class="col-md-offset-2 col-md-10">
                <input type="submit" value="Salvar" class="btn btn-success" />
                @Html.ActionLink("Voltar", "Index", null, new { @class = "btn btn-danger" })
            </div>
        </div>
    </div>
}

@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")

    <script>
        window.onload = function () {
            CRateSelected();
        };


        function CRateOut(Rating) {
            for (var i = 1; i <= Rating; i++) {
                $("#span" + i).attr('class', 'fa fa-star-o  fa-2x');
            }
        }

        function CRateOver(Rating) {
            for (var i = 1; i <= Rating; i++) {
                $("#span" + i).attr('class', 'fa fa-star  fa-2x');
            }
        }

        function CRateClick(Rating) {
            $("#lblRating").val(Rating);
            for (var i = 1; i <= Rating; i++) {
                $("#span" + i).attr('class', 'fa fa-star  fa-2x');
            }

            for (var i = Rating + 1; i <= 10; i++) {
                $("#span" + i).attr('class', 'fa fa-star-o  fa-2x');
            }
        }

        function CRateSelected() {
            var rating = $("#lblRating").val();
            for (var i = 1; i <= rating; i++) {
                $("#span" + i).attr('class', 'fa fa-star  fa-2x');
            }
        }


    </script>
}
